scalar Date

type Pagination {
  left: Boolean!
  right: Boolean!
}

input PaginationInput {
  left: Boolean!
  right: Boolean!
}

type Lock {
  created: Date!
  username: String!
  userId: ID!
}

input LockInput {
  userId: ID!
}

type WorkFlowItem {
  label: String!
  type: String!
  value: Int!
}

input WorkFlowItemInput {
  label: String!
  type: String!
  value: Int!
}

type BookComponent {
  id: ID!
  title: String!
  bookId: ID!
  componentTypeOrder: Int!
  hasContent: Boolean!
  divisionId: ID!
  # lock: Lock
  pagination: Pagination!
  archived: Boolean!
  workflowStages: [WorkFlowItem]
  content: String
  componentType: String!
  trackChangesEnabled: Boolean!
  uploading: Boolean!
}

input BookComponentInput {
  title: String!
  bookId: ID!
  componentType: String!
  divisionId: ID!
}

input WordFileInput {
  title: String
  content: String
  componentType: String
}

input UpdateBookComponentInput {
  id: ID!
  title: String
  deleted: Boolean
  lock: LockInput
  pagination: PaginationInput
  workflowStages: [WorkFlowItemInput]
  trackChangesEnabled: Boolean
  content: String
}

extend type Query {
  getBookComponent(id: ID!): BookComponent!
}

extend type Mutation {
  ingestWordFile(input: [WordFileInput]!): [BookComponent]!
  addBookComponent(input: BookComponentInput): BookComponent!
  renameBookComponent(input: UpdateBookComponentInput): BookComponent!
  deleteBookComponent(input: UpdateBookComponentInput): BookComponent!
  archiveBookComponent(input: UpdateBookComponentInput): BookComponent!
  updateWorkflowState(input: UpdateBookComponentInput): BookComponent!
  updatePagination(input: UpdateBookComponentInput): BookComponent!
  unlockBookComponent(input: UpdateBookComponentInput): BookComponent!
  lockBookComponent(input: UpdateBookComponentInput): BookComponent!
  updateTrackChanges(input: UpdateBookComponentInput): BookComponent!
  updateContent(input: UpdateBookComponentInput): BookComponent!
}

extend type Subscription {
  bookComponentAdded: BookComponent!
  bookComponentDeleted: BookComponent!
  bookComponentWorkflowUpdated: BookComponent!
  bookComponentPaginationUpdated: BookComponent!
  bookComponentTrackChangesUpdated: BookComponent!
  bookComponentTitleUpdated: BookComponent!
}
